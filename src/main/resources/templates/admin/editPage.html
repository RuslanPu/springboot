<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="https://www.thymeleaf.org"
      xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity3">
<head>
    <meta charset="UTF-8">
    <title>Edit</title>
</head>
<body>
    <h2>Edit user</h2>
    <b th:text="${error}"></b>
    <form th:action="@{/admin/edit}" method="post">
        <input type="hidden" th:name="id" th:value="${user.id}">

        <label for="name">name</label>
        <input type="text" th:name="name" id="name" th:value="${user.name}" >

        <label for="password">password</label>
        <input type="text" th:name="password" id="password" th:value="${user.password}">

        <label for="email">email</label>
        <input type="text" th:name="email" id="email" th:value="${user.email}">

        <input type="hidden" th:name="checkboxRole" th:value="1"/>
        <div th:each="role : ${listRoles}">
            <label th:for="role+${role.id}" th:text="${role.name}"></label>
            <input type="checkbox" th:name="checkboxRole"  th:id="role+${role.id}"  th:value="${role.name}" th:checked="${user.roles.contains(role)}" >
        </div>

        <input type="submit" value="edit user">
    </form>


<a th:href="@{/perform_logout}" />Logout</a>
</body>
</html>